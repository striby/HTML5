<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
        <html lang="zh ">
        <head>
            <meta charset="UTF-8">
            <title>Title</title>
            <style>
                #can{
                    border: 1px solid red;
                }
            </style>
        </head>

<body>
<canvas id="can" width="1200" height="800"></canvas>
<script>
    var ctx = $("can").getContext("2d");
    var j =0;
    var flag = true;//顺时针和逆时针判断

    function $(t){
        return document.getElementById(t);
    }



    window.onload = function () {
        setInterval(bulidclock,10);
    };

    function bulidclock(){
        ctx.clearRect(0,0,1200,800);
        jiaojia1();//脚架
        jiaojia2();//
        buildBackground();//背景
        baicui1();
        baicui2();
        baicui();
        buildDial();//表盘
        buildSecondHand();//秒针
        buildMinuteHand();//分针
        buildHourHand();//时针
        buildCalibration(); //刻度


    }

    function buildDial(){
        ctx.save();
        ctx.strokeStyle="black";
        ctx.lineWidth="30";
        ctx.fillStyle="white";
        ctx.beginPath();
        ctx.arc(500,400,200,0,Math.PI*2,false);
        ctx.closePath();
        ctx.stroke();
        ctx.fill();
        ctx.restore();
    }
    function buildCalibration(){
        for(var i=0;i<60;i++){
            ctx.save();
            ctx.translate(500,400);
            ctx.rotate(Math.PI/180*i*6);
            ctx.beginPath();
            //
            if(i%5==0){
                ctx.lineWidth="4";
                ctx.strokeStyle="black";

                ctx.moveTo(0,195);
                ctx.lineTo(0,175);
            }else{
                ctx.lineWidth="5";
                ctx.strokeStyle="black";

                ctx.moveTo(0,195);
                ctx.lineTo(0,180);
                ctx.closePath();

            }
            ctx.closePath();
            ctx.stroke();
            ctx.restore();
        }
    }
    function buildSecondHand(){
        var date= new Date();

        ctx.save();
        ctx.translate(500,400);

        ctx.rotate(Math.PI/180*date.getSeconds()*6);

        ctx.strokeStyle="gary";
        ctx.lineWidth="1";
        ctx.beginPath();
        ctx.moveTo(0,20);
        ctx.lineTo(0,-160);

        ctx.closePath();
        ctx.stroke();
        ctx.restore();
    }
    function buildMinuteHand(){
        var date= new Date();

        ctx.save();
        ctx.translate(500,400);

        ctx.rotate(Math.PI/180*date.getMinutes()*6);

        ctx.strokeStyle="gary";
        ctx.lineWidth="3";
        ctx.beginPath();
        ctx.moveTo(0,15);
        ctx.lineTo(0,-140);

        ctx.closePath();
        ctx.stroke();
        ctx.restore();

    }
    function buildHourHand(){
        var date= new Date();

        ctx.save();
        ctx.translate(500,400);

        ctx.rotate(Math.PI/180*(date.getHours()*31));

        ctx.strokeStyle="gary";
        ctx.lineWidth="5";
        ctx.beginPath();
        ctx.moveTo(0,15);
        ctx.lineTo(0,-120);

        ctx.closePath();
        ctx.stroke();
        ctx.restore();
    }

    function buildBackground(){
        ctx.save();

        ctx.lineWidth="10";
        ctx.strokeStyle="black";
        ctx.translate(500,220);
        ctx.beginPath();

        ctx.arc(0,0,150,0,Math.PI*2,true);

        ctx.closePath();
        ctx.stroke();
        ctx.restore();
    }

    function jiaojia1(){
        ctx.save();
        ctx.translate(500,400);

        ctx.rotate(Math.PI/180*30);
        ctx.lineWidth="30";
        ctx.strokeStyle="black";
        ctx.fillStyle="black";
        ctx.beginPath();
        ctx.moveTo(0,0);
        ctx.lineTo(0,260);
        ctx.closePath();
        ctx.stroke();

        ctx.restore();

    }
    function jiaojia2(){
        ctx.save();
        ctx.translate(500,400);

        ctx.rotate(Math.PI/180*-30);
        ctx.lineWidth="30";
        ctx.strokeStyle="black";
        ctx.fillStyle="black";
        ctx.beginPath();
        ctx.moveTo(0,0);
        ctx.lineTo(0,260);
        ctx.closePath();
        ctx.stroke();

        ctx.restore();

    }

    function baicui1(){
        ctx.save();
        ctx.translate(500,400);
        ctx.lineWidth="40";
        ctx.strokeStyle="black";
        ctx.fillStyle="black";

        ctx.beginPath();
        ctx.rotate(Math.PI/180*-40);

        ctx.strokeRect(-40,-280,80,40);
        ctx.closePath();
        ctx.fill();

        ctx.stroke();
        ctx.restore();
    }
    function baicui2(){
        ctx.save();
        ctx.translate(500,400);
        ctx.lineWidth="40";
        ctx.strokeStyle="black";
        ctx.fillStyle="black";

        ctx.beginPath();
        ctx.rotate(Math.PI/180*40);

        ctx.strokeRect(-40,-280,80,40);
        ctx.closePath();
        ctx.fill();

        ctx.stroke();
        ctx.restore();
    }

    function baicui(){
        ctx.save();
        ctx.translate(500,400);
        ctx.lineWidth="10";
        ctx.strokeStyle="black";
        ctx.fillStyle="black";
        if(flag==true){
            j--;
            if (j == -15) {
                flag = false;
            }
        }
        if(flag==false){
            j++;
            if(j==15){
                flag=true;
            }
        }

        ctx.rotate(Math.PI/180*j);
        ctx.beginPath();
        ctx.moveTo(0,0);
        ctx.lineTo(0,-250);

        ctx.closePath();
        ctx.stroke();
        ctx.lineWidth="20";
        ctx.strokeRect(-30,-250,60,20);

        ctx.restore();
    }
</script>
</body>
</html></title>
</head>
<body>

</body>
</html>